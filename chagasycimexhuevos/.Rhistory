a <- available.packages()
head(rownames(a), 3)
install.packages("slidify")
install.packages(c("ggplot2", "devtools"))
install.packages("slidify")
source("http://bioconductor.org/bioLite.R")
biocLite()
library(ggplot2)
search()
source('~/GitHub/Laboratory/chagasycimexhuevos/Cimex_Fertility_Analysis.R')
length(cimfert$s1_p)
Compile
View(compile)
View(Compile)
cimfert$Fecha_Incicio_.Paraja
cimfert$Fecha_Incicio_.Pareja
cimfert$Fecha_Inicio_.Pareja[i]
cimfert$Fecha_Inicio_.Pareja
i
j
k
d
i
d
for (i in 1:(length(cimfert$s1_p))){ #i for each insect
for (d in 1:30) {
Compile$id[i+((d-1)*length(cimfert$ID))] <- cimfert$ID[i]
Compile$parents[i+((d-1)*length(cimfert$ID))] <- cimfert$Nro_.pareja[i]
Compile$procedencia[i+((d-1)*length(cimfert$ID))] <- cimfert$procedencia[i]
Compile$treatment[i+((d-1)*length(cimfert$ID))] <- cimfert$treatment[i]
Compile$start[i+((d-1)*length(cimfert$ID))] <- cimfert$Fecha_Inicio_.Pareja[i]
Compile$hatch[i+((d-1)*length(cimfert$ID))] <-cimfert[i,(2*d+3)]
Compile$eggs[i+((d-1)*length(cimfert$ID))]<-cimfert[i,(2*d+2)]
}
}
length(cimfert$ID)
names(Compile)
Compile <- data.frame(blank,0,0,0,0,0,0, 0, 0, 0, 0)
Compile <- rename(Compile, replace = c("blank"="id", "X0"="parents","X0.1"="treatment","X0.2"="start",
"X0.3"="day", "X0.4"="date", "X0.5"="eggs", "X0.6"="hatch", "X0.7"="rh",
"X0.8"="temp", "x0.9"="prodencia"))
names(Compile)
Compile <- rename(Compile, replace = c("blank"="id", "X0"="parents","X0.1"="treatment","X0.2"="start",
"X0.3"="day", "X0.4"="date", "X0.5"="eggs", "X0.6"="hatch", "X0.7"="rh",
"X0.8"="temp", "x0.9"="procedencia"))
Compile <- data.frame(blank,0,0,0,0,0,0, 0, 0, 0, 0)
library(plyr)
Compile <- rename(Compile, replace = c("blank"="id", "X0"="parents","X0.1"="treatment","X0.2"="start",
"X0.3"="day", "X0.4"="date", "X0.5"="eggs", "X0.6"="hatch", "X0.7"="rh",
"X0.8"="temp", "x0.9"="procedencia"))
names(Compile)
Compile <- rename(Compile, replace = c("blank"="id", "X0"="parents","X0.1"="treatment","X0.2"="start",
"X0.3"="day", "X0.4"="date", "X0.5"="eggs", "X0.6"="hatch", "X0.7"="rh",
"X0.8"="temp", "X0.9"="procedencia"))
names(Compile)
for (i in 1:(length(cimfert$s1_p))){ #i for each insect
for (d in 1:30) {
Compile$id[i+((d-1)*length(cimfert$ID))] <- cimfert$ID[i]
Compile$parents[i+((d-1)*length(cimfert$ID))] <- cimfert$Nro_.pareja[i]
Compile$procedencia[i+((d-1)*length(cimfert$ID))] <- cimfert$procedencia[i]
Compile$treatment[i+((d-1)*length(cimfert$ID))] <- cimfert$treatment[i]
Compile$start[i+((d-1)*length(cimfert$ID))] <- cimfert$Fecha_Inicio_.Pareja[i]
Compile$hatch[i+((d-1)*length(cimfert$ID))] <-cimfert[i,(2*d+3)]
Compile$eggs[i+((d-1)*length(cimfert$ID))]<-cimfert[i,(2*d+2)]
}
}
names(cimnfert)
names(cimfert)
for (i in 1:(length(cimfert$s1_p))){ #i for each insect
for (d in 1:30) {
Compile$id[i+((d-1)*length(cimfert$ID))] <- cimfert$ID[i]
Compile$parents[i+((d-1)*length(cimfert$ID))] <- cimfert$Nro_.pareja[i]
Compile$procedencia[i+((d-1)*length(cimfert$ID))] <- cimfert$Procedencia[i]
Compile$treatment[i+((d-1)*length(cimfert$ID))] <- cimfert$treatment[i]
Compile$start[i+((d-1)*length(cimfert$ID))] <- cimfert$Fecha_Inicio_.Pareja[i]
Compile$hatch[i+((d-1)*length(cimfert$ID))] <-cimfert[i,(2*d+3)]
Compile$eggs[i+((d-1)*length(cimfert$ID))]<-cimfert[i,(2*d+2)]
}
}
dim(cimfert)
for (i in 1:(length(cimfert$s1_p))){ #i for each insect
for (d in 1:30) {
Compile$id[i+((d-1)*length(cimfert$ID))] <- cimfert$ID[i]
Compile$parents[i+((d-1)*length(cimfert$ID))] <- cimfert$Nro_.pareja[i]
Compile$procedencia[i+((d-1)*length(cimfert$ID))] <- cimfert$Procedencia[i]
Compile$treatment[i+((d-1)*length(cimfert$ID))] <- cimfert$treatment[i]
Compile$start[i+((d-1)*length(cimfert$ID))] <- cimfert$Fecha_Inicio_.Pareja[i]}
}
dim(Compile)
View(Compile)
Compile$start[1]
cimfert$Fecha_Inicio_.Pareja
cimfert$Fecha_Inicio_.Pareja[1]
cimfert$Fecha_Inicio_.Pareja<- as.character(cimfert$Fecha_Inicio_.Pareja)
cimfert$Fecha_Inicio_.Pareja[1]
for (i in 1:(length(cimfert$s1_p))){ #i for each insect
for (d in 1:30) {
Compile$id[i+((d-1)*length(cimfert$ID))] <- cimfert$ID[i]
Compile$parents[i+((d-1)*length(cimfert$ID))] <- cimfert$Nro_.pareja[i]
Compile$procedencia[i+((d-1)*length(cimfert$ID))] <- cimfert$Procedencia[i]
Compile$treatment[i+((d-1)*length(cimfert$ID))] <- cimfert$treatment[i]
Compile$start[i+((d-1)*length(cimfert$ID))] <- cimfert$Fecha_Inicio_.Pareja[i]}}
View(Compile)
Cimfert cimfert$Nro_.pareja
cimfert$Nro_.pareja
?as.date
cimfert$Nro_.pareja<-as.characher(cimfert$Nro_.pareja)
cimfert$Nro_.pareja<-as.character(cimfert$Nro_.pareja)
Compile
View(Compile)
cimfert$Nro_.pareja<-as.characher(cimfert$Nro_.pareja)
cimfert$Procedencia<-as.characher(cimfert$Procedencia)
cimfert$Nro_.pareja<-as.character(cimfert$Nro_.pareja)
cimfert$Procedencia<-as.charachter(cimfert$Procedencia)
cimfert$Nro_.pareja<-as.character(cimfert$Nro_.pareja)
cimfert$Procedencia<-as.character(cimfert$Procedencia)
now we need to create a nested loop to get the data into a new data frame
for (i in 1:(length(cimfert$s1_p))){ #i for each insect
for (d in 1:30) {
Compile$id[i+((d-1)*length(cimfert$ID))] <- cimfert$ID[i]
Compile$parents[i+((d-1)*length(cimfert$ID))] <- cimfert$Nro_.pareja[i]
Compile$procedencia[i+((d-1)*length(cimfert$ID))] <- cimfert$Procedencia[i]
Compile$treatment[i+((d-1)*length(cimfert$ID))] <- cimfert$treatment[i]
Compile$start[i+((d-1)*length(cimfert$ID))] <- cimfert$Fecha_Inicio_.Pareja[i]
Compile$hatch[i+((d-1)*length(cimfert$ID))] <-cimfert[i,(2*d+3)]
Compile$eggs[i+((d-1)*length(cimfert$ID))]<-cimfert[i,(2*d+2)]
}
}
View(Compile)
for (d in 1:30) {
for (i in 1:(length(cimfert$s1_p))){ #i for each insect
Compile$id[i+((d-1)*length(cimfert$ID))] <- cimfert$ID[i]
Compile$parents[i+((d-1)*length(cimfert$ID))] <- cimfert$Nro_.pareja[i]
Compile$procedencia[i+((d-1)*length(cimfert$ID))] <- cimfert$Procedencia[i]
Compile$treatment[i+((d-1)*length(cimfert$ID))] <- cimfert$treatment[i]
Compile$start[i+((d-1)*length(cimfert$ID))] <- cimfert$Fecha_Inicio_.Pareja[i]
Compile$hatch[i+((d-1)*length(cimfert$ID))] <-cimfert[i,(2*d+3)]
Compile$eggs[i+((d-1)*length(cimfert$ID))]<-cimfert[i,(2*d+2)]
}
}
View(Compile)
cimfert$Procedencia<-as.character(cimfert$Procedencia)
cimfert$ID<-as.character(cimfert$ID)
for (d in 1:30) {
for (i in 1:(length(cimfert$s1_p))){ #i for each insect
Compile$id[i+((d-1)*length(cimfert$ID))] <- cimfert$ID[i]
Compile$parents[i+((d-1)*length(cimfert$ID))] <- cimfert$Nro_.pareja[i]
Compile$procedencia[i+((d-1)*length(cimfert$ID))] <- cimfert$Procedencia[i]
Compile$treatment[i+((d-1)*length(cimfert$ID))] <- cimfert$treatment[i]
Compile$start[i+((d-1)*length(cimfert$ID))] <- cimfert$Fecha_Inicio_.Pareja[i]
Compile$hatch[i+((d-1)*length(cimfert$ID))] <-cimfert[i,(2*d+3)]
Compile$eggs[i+((d-1)*length(cimfert$ID))]<-cimfert[i,(2*d+2)]
}
}
length(cimfert$ID)
length(Compile$ID)
length(Compile$id)
View(Compile)
View(cimfert)
for (d in 1:30) {
for (i in 1:(length(cimfert$s1_p))){ #i for each insect
Compile$day[i+((d-1)*length(cimfert$ID))] <- d
Compile$id[i+((d-1)*length(cimfert$ID))] <- cimfert$ID[i]
Compile$parents[i+((d-1)*length(cimfert$ID))] <- cimfert$Nro_.pareja[i]
Compile$procedencia[i+((d-1)*length(cimfert$ID))] <- cimfert$Procedencia[i]
Compile$treatment[i+((d-1)*length(cimfert$ID))] <- cimfert$treatment[i]
Compile$start[i+((d-1)*length(cimfert$ID))] <- cimfert$Fecha_Inicio_.Pareja[i]
Compile$hatch[i+((d-1)*length(cimfert$ID))] <-cimfert[i,(2*d+3)]
Compile$eggs[i+((d-1)*length(cimfert$ID))]<-cimfert[i,(2*d+2)]
}
}
View(Compile()
View(Compile
View(Compile)
dim(Compile)
blank
length(blank)
#We need to create outputs for the data.
blank <- (1:(30*length(cimfert$Procedencia))*0
#
Compile <- data.frame(blank,0,0,0,0,0,0, 0, 0, 0, 0)
library(plyr)
Compile <- rename(Compile, replace = c("blank"="id", "X0"="parents","X0.1"="treatment","X0.2"="start",
"X0.3"="day", "X0.4"="date", "X0.5"="eggs", "X0.6"="hatch", "X0.7"="rh",
"X0.8"="temp", "X0.9"="procedencia"))
#make sure the cimfert columns are characters or they will not transfer.
cimfert$Nro_.pareja<-as.character(cimfert$Nro_.pareja)
cimfert$Procedencia<-as.character(cimfert$Procedencia)
cimfert$ID<-as.character(cimfert$ID)
#now we need to create a nested loop to get the data into a new data frame
for (d in 1:30) {
for (i in 1:(length(cimfert$s1_p))){ #i for each insect
Compile$day[i+((d-1)*length(cimfert$ID))] <- d
Compile$id[i+((d-1)*length(cimfert$ID))] <- cimfert$ID[i]
Compile$parents[i+((d-1)*length(cimfert$ID))] <- cimfert$Nro_.pareja[i]
Compile$procedencia[i+((d-1)*length(cimfert$ID))] <- cimfert$Procedencia[i]
Compile$treatment[i+((d-1)*length(cimfert$ID))] <- cimfert$treatment[i]
Compile$start[i+((d-1)*length(cimfert$ID))] <- cimfert$Fecha_Inicio_.Pareja[i]
Compile$hatch[i+((d-1)*length(cimfert$ID))] <-cimfert[i,(2*d+3)]
Compile$eggs[i+((d-1)*length(cimfert$ID))]<-cimfert[i,(2*d+2)]
}
}
blank <- (1:(30*length(cimfert$Procedencia))*0)
blank
length(blank)
177*30
Compile <- data.frame(blank,0,0,0,0,0,0, 0, 0, 0, 0)
library(plyr)
Compile <- rename(Compile, replace = c("blank"="id", "X0"="parents","X0.1"="treatment","X0.2"="start",
"X0.3"="day", "X0.4"="date", "X0.5"="eggs", "X0.6"="hatch", "X0.7"="rh",
"X0.8"="temp", "X0.9"="procedencia"))
#make sure the cimfert columns are characters or they will not transfer.
cimfert$Nro_.pareja<-as.character(cimfert$Nro_.pareja)
cimfert$Procedencia<-as.character(cimfert$Procedencia)
cimfert$ID<-as.character(cimfert$ID)
#now we need to create a nested loop to get the data into a new data frame
for (d in 1:30) {
for (i in 1:(length(cimfert$s1_p))){ #i for each insect
Compile$day[i+((d-1)*length(cimfert$ID))] <- d
Compile$id[i+((d-1)*length(cimfert$ID))] <- cimfert$ID[i]
Compile$parents[i+((d-1)*length(cimfert$ID))] <- cimfert$Nro_.pareja[i]
Compile$procedencia[i+((d-1)*length(cimfert$ID))] <- cimfert$Procedencia[i]
Compile$treatment[i+((d-1)*length(cimfert$ID))] <- cimfert$treatment[i]
Compile$start[i+((d-1)*length(cimfert$ID))] <- cimfert$Fecha_Inicio_.Pareja[i]
Compile$hatch[i+((d-1)*length(cimfert$ID))] <-cimfert[i,(2*d+3)]
Compile$eggs[i+((d-1)*length(cimfert$ID))]<-cimfert[i,(2*d+2)]
}
}
View(Compile)
?lubridate
??lubridate
install.packages("lubridate")
?lubridate
library(lubridate)
?as.Date
cimfert$Fecha_Inicio_.ParejaTrial <- as.Date(cimfer$Fecha_Inicio_.Pareja, format "%D/%M/%Y")
cimfert$Fecha_Inicio_.ParejaTrial <- as.Date(cimfer$Fecha_Inicio_.Pareja, format "%D/%M/%Y")
cimfert$Fecha_Inicio_.ParejaTrial <- as.Date(cimfer$Fecha_Inicio_.Pareja, format="%D/%M/%Y")
cimfert$Fecha_Inicio_.ParejaTrial <- as.Date(cimfer$Fecha_Inicio_.Pareja, "%D/%M/%Y")
?strptime
trialdate <- strptime(cimfert$Fecha_Inicio_.Pareja, "%D/%M/%Y")
trialdate
trialdate <- strptime(cimfert$Fecha_Inicio_.Pareja, "%d/%m/%y")
trialdate
Compile <- data.frame(blank,0,0,0,0,0,0, 0, 0, 0, 0)
library(plyr)
Compile <- rename(Compile, replace = c("blank"="id", "X0"="parents","X0.1"="treatment","X0.2"="start",
"X0.3"="day", "X0.4"="date", "X0.5"="eggs", "X0.6"="hatch", "X0.7"="rh",
"X0.8"="temp", "X0.9"="procedencia"))
#make sure the cimfert columns are characters or they will not transfer.
cimfert$Nro_.pareja <- as.character(cimfert$Nro_.pareja)
cimfert$Procedencia <- as.character(cimfert$Procedencia)
trialdate <- strptime(cimfert$Fecha_Inicio_.Pareja, "%d/%m/%y")
#now we need to create a nested loop to get the data into a new data frame
for (d in 1:30) {
for (i in 1:(length(cimfert$s1_p))){ #i for each insect
Compile$day[i+((d-1)*length(cimfert$ID))] <- d
Compile$id[i+((d-1)*length(cimfert$ID))] <- cimfert$ID[i]
Compile$parents[i+((d-1)*length(cimfert$ID))] <- cimfert$Nro_.pareja[i]
Compile$procedencia[i+((d-1)*length(cimfert$ID))] <- cimfert$Procedencia[i]
Compile$treatment[i+((d-1)*length(cimfert$ID))] <- cimfert$treatment[i]
Compile$start[i+((d-1)*length(cimfert$ID))] <- cimfert$Fecha_Inicio_.Pareja[i]
Compile$hatch[i+((d-1)*length(cimfert$ID))] <-cimfert[i,(2*d+3)]
Compile$eggs[i+((d-1)*length(cimfert$ID))]<-cimfert[i,(2*d+2)]
}
}
View(Compile)
Compile$date=(Compile$start+(Compile$week*7)
)
Compile$date <- (Compile$start+(Compile$week*7))
Compile$date <- (Compile$start+(Compile$week))
Compile$week
for (d in 1:30) {
for (i in 1:(length(cimfert$s1_p))){ #i for each insect
Compile$week[i+((d-1)*length(cimfert$ID))] <- d
Compile$id[i+((d-1)*length(cimfert$ID))] <- cimfert$ID[i]
Compile$parents[i+((d-1)*length(cimfert$ID))] <- cimfert$Nro_.pareja[i]
Compile$procedencia[i+((d-1)*length(cimfert$ID))] <- cimfert$Procedencia[i]
Compile$treatment[i+((d-1)*length(cimfert$ID))] <- cimfert$treatment[i]
Compile$start[i+((d-1)*length(cimfert$ID))] <- cimfert$Fecha_Inicio_.Pareja[i]
Compile$hatch[i+((d-1)*length(cimfert$ID))] <-cimfert[i,(2*d+3)]
Compile$eggs[i+((d-1)*length(cimfert$ID))]<-cimfert[i,(2*d+2)]
}
}
for (d in 1:30) {
for (i in 1:(length(cimfert$s1_p))){ #i for each insect
Compile$week[i+((d-1)*length(cimfert$ID))] <- d
Compile$id[i+((d-1)*length(cimfert$ID))] <- cimfert$ID[i]
Compile$parents[i+((d-1)*length(cimfert$ID))] <- cimfert$Nro_.pareja[i]
Compile$procedencia[i+((d-1)*length(cimfert$ID))] <- cimfert$Procedencia[i]
Compile$treatment[i+((d-1)*length(cimfert$ID))] <- cimfert$treatment[i]
Compile$start[i+((d-1)*length(cimfert$ID))] <- cimfert$Fecha_Inicio_.Pareja[i]
Compile$hatch[i+((d-1)*length(cimfert$ID))] <-cimfert[i,(2*d+3)]
Compile$eggs[i+((d-1)*length(cimfert$ID))]<-cimfert[i,(2*d+2)]
}
}
Compile$date <- (Compile$start+(Compile$week*7))
Compile$week
Compile$start
Compile$start+Compile$week
Compile$start[1]+2
Compile$start
attributes(Compile$date)
attributes(Compile$start)
Compile$start
attributes(Compile$start)
cimfert$Nro_.pareja <- as.character(cimfert$Nro_.pareja)
cimfert$Procedencia <- as.character(cimfert$Procedencia)
cimfert$Fecha_Inicio_.Pareja <- strptime(cimfert$Fecha_Inicio_.Pareja, "%d/%m/%y")
for (d in 1:30) {
for (i in 1:(length(cimfert$s1_p))){ #i for each insect
Compile$week[i+((d-1)*length(cimfert$ID))] <- d
Compile$id[i+((d-1)*length(cimfert$ID))] <- cimfert$ID[i]
Compile$parents[i+((d-1)*length(cimfert$ID))] <- cimfert$Nro_.pareja[i]
Compile$procedencia[i+((d-1)*length(cimfert$ID))] <- cimfert$Procedencia[i]
Compile$treatment[i+((d-1)*length(cimfert$ID))] <- cimfert$treatment[i]
Compile$start[i+((d-1)*length(cimfert$ID))] <- cimfert$Fecha_Inicio_.Pareja[i]
Compile$hatch[i+((d-1)*length(cimfert$ID))] <-cimfert[i,(2*d+3)]
Compile$eggs[i+((d-1)*length(cimfert$ID))]<-cimfert[i,(2*d+2)]
}
}
warnings()
cimfert$Fecha_Inicio_.Pareja
#set directory and bring in files to be analyzed.
setwd("c:\\Users\\tradylan\\Documents\\GitHub\\Laboratory\\chagasycimexhuevos")
#bring in hatching data
cimfertpilot <- read.csv("Cimex_FertP.csv")
cimfert1 <- read.csv("Cimex_FertR1.csv")
cimfert2 <- read.csv("Cimex_FertR2.csv")
#bring in temperature and humidity data
TempRHP <- read.csv("TEMP_Y_RH_PIL.csv")
tempRH1 <- read.csv("TEMP_Y_RH_REP1.csv")
tempRH2 <- read.csv("TEMP_Y_RH_REP2.csv")
##Create a master table with all the insects.
#first create marker so we can identify each trial.
cimfertpilot$trial <- "P"
cimfert1$trial <- 1
cimfert2$trial <- 2
#the dimensions are not the same so make blank columns for corresponding data.
#cimfert1
cimfert1$s30_v <- 1*NA
cimfert1$s30_p <- 1*NA
#cimfert2
cimfert2$s26_v <- 1*NA
cimfert2$s26_p <- 1*NA
cimfert2$s27_v <- 1*NA
cimfert2$s27_p <- 1*NA
cimfert2$s28_v <- 1*NA
cimfert2$s28_p <- 1*NA
cimfert2$s29_v <- 1*NA
cimfert2$s29_p <- 1*NA
cimfert2$s30_v <- 1*NA
cimfert2$s30_p <- 1*NA
#bring the tables together.
cimfert<-rbind(cimfertpilot, cimfert1, cimfert2)
#create unicode for insect pair
cimfert$ID <- paste(cimfert$Nro_.pareja, cimfert$trial, sep="-")
#clear na and replace with 0
cimfert[is.na(cimfert)]<-0
####The Goal of this analysis is to see how bed bugs fertility may change
####based on infection with chagas disease.
####To do so we must explore some confounds such as age of insect.
#Create data frame for eggs hatched to simplify loops and math later
postura <-data.frame(cimfert$ID, cimfert$Procedencia, cimfert$trial, cimfert$s1_p,
cimfert$s2_p, cimfert$s3_p, cimfert$s4_p, cimfert$s5_p,
cimfert$s6_p, cimfert$s7_p, cimfert$s8_p, cimfert$s9_p,
cimfert$s10_p,cimfert$s11_p, cimfert$s12_p,cimfert$s13_p,
cimfert$s14_p, cimfert$s15_p, cimfert$s16_p,
cimfert$s17_p, cimfert$s18_p,cimfert$s19_p,
cimfert$s20_p, cimfert$s21_p, cimfert$s22_p,cimfert$s23_p, cimfert$s24_p,
cimfert$s25_p, cimfert$s26_p, cimfert$s27_p,
cimfert$s28_p,cimfert$s29_p, cimfert$s30_p)
#Create data frame for eggs hatched
salieron <-data.frame(cimfert$ID, cimfert$Procedencia,
cimfert$trial, cimfert$s1_v,
cimfert$s2_v, cimfert$s3_v, cimfert$s4_v, cimfert$s5_v,
cimfert$s6_v, cimfert$s7_v, cimfert$s8_v, cimfert$s9_v,
cimfert$s10_v,cimfert$s11_v,cimfert$s12_v,cimfert$s13_v,
cimfert$s14_v, cimfert$s15_v, cimfert$s16_v,
cimfert$s17_v, cimfert$s18_v,cimfert$s19_v,
cimfert$s20_v, cimfert$s21_v, cimfert$s22_v,cimfert$s23_v, cimfert$s24_v,
cimfert$s25_v, cimfert$s26_v, cimfert$s27_v,
cimfert$s28_v,cimfert$s29_v, cimfert$s30_v)
###Create chart for eggs laid by treatment group.
##everthing together.
#make a vector that identifies each treatment group
ControlP <- which(cimfert$Procedencia=="CO")
InfectPA <- which(cimfert$Procedencia=="I-R1")
InfectPB <- which(cimfert$Procedencia=="I-R2")
ControlA <- which(cimfert$Procedencia=="CO-A")
ControlB <- which(cimfert$Procedencia=="CO-B")
InfectA <- which(cimfert$Procedencia=="I-A")
InfectB <- which(cimfert$Procedencia=="I-B")
controls <- c(ControlP, ControlA, ControlB)
infect<- c(InfectPA, InfectPB, InfectA, InfectB)
#make column designating treatment
cimfert$treatment[infect]<-1
cimfert$treatment[controls]<-0
##using a loop find the mean of eggs laid by each day.
#make blank input vectors
AvPostC <- c(1:30)*NA
AvPostI<- c(1:30)*NA
#controls
for(i in 1:30){
AvPostC[i] <- sum(postura[controls, (i+3)], na.rm = TRUE)/length(controls)
}
#infect
for(i in 1:30){
AvPostI[i] <- sum(postura[infect, (i+3)], na.rm = TRUE)/length(infect)
}
#Now we're ready to do some plotting
plot(AvPostI, type="o", main="Average Eggs Laid Between Infected and Control Insects",
ylab="Number of Bugs", xlab="Day in Study", col="darkorange1", pch=18)
lines(AvPostC, type="o", pch=16, col="dodgerblue1")
##for violin plots and lme4 analysis we need to make data frame by entry
#entry meaning every line represents week of egg and hatch from normal jar.
#We need to create outputs for the data.
blank <- (1:(30*length(cimfert$Procedencia))*0)
#
Compile <- data.frame(blank,0,0,0,0,0,0, 0, 0, 0, 0)
library(plyr)
Compile <- rename(Compile, replace = c("blank"="id", "X0"="parents","X0.1"="treatment","X0.2"="start",
"X0.3"="day", "X0.4"="date", "X0.5"="eggs", "X0.6"="hatch", "X0.7"="rh",
"X0.8"="temp", "X0.9"="procedencia"))
#make sure the cimfert columns are characters or they will not transfer.
cimfert$Nro_.pareja <- as.character(cimfert$Nro_.pareja)
cimfert$Procedencia <- as.character(cimfert$Procedencia)
trialdate <- strptime(cimfert$Fecha_Inicio_.Pareja, "%d/%m/%y")
trialdate
?strpdate
trialdate <- strptime(cimfert$Fecha_Inicio_.Pareja, "%e/%m/%y")
trialdate
cimfert$Fecha_Inicio_.Pareja
parse_date_time(cimfert$Fecha_Inicio_.Pareja, dmy)
cimfert$Fecha_Inicio_.Pareja <-as.character(cimfert$Fecha_Inicio_.Pareja)
parse_date_time(cimfert$Fecha_Inicio_.Pareja, dmy)
parse_date_time(cimfert$Fecha_Inicio_.Pareja, orders)
parse_date_time(cimfert$Fecha_Inicio_.Pareja, "dmy")
parse_date_time(cimfert$Fecha_Inicio_.Pareja, "dmy", tz="EST")
cimfert$Nro_.pareja <- as.character(cimfert$Nro_.pareja)
cimfert$Procedencia <- as.character(cimfert$Procedencia)
cimfert$Fecha_Inicio_.Pareja <-as.character(cimfert$Fecha_Inicio_.Pareja)
cimfert$start <- parse_date_time(cimfert$Fecha_Inicio_.Pareja, "dmy", tz="EST")
#now we need to create a nested loop to get the data into a new data frame
for (d in 1:30) {
for (i in 1:(length(cimfert$s1_p))){ #i for each insect
Compile$week[i+((d-1)*length(cimfert$ID))] <- d
Compile$id[i+((d-1)*length(cimfert$ID))] <- cimfert$ID[i]
Compile$parents[i+((d-1)*length(cimfert$ID))] <- cimfert$Nro_.pareja[i]
Compile$procedencia[i+((d-1)*length(cimfert$ID))] <- cimfert$Procedencia[i]
Compile$treatment[i+((d-1)*length(cimfert$ID))] <- cimfert$treatment[i]
Compile$start[i+((d-1)*length(cimfert$ID))] <- cimfert$start[i]
Compile$hatch[i+((d-1)*length(cimfert$ID))] <-cimfert[i,(2*d+3)]
Compile$eggs[i+((d-1)*length(cimfert$ID))]<-cimfert[i,(2*d+2)]
}
}
Compile$date <- (Compile$start+(Compile$week*7))
Compile$date
Compile$start
as.Date(Compile$start)
Compile$start<-as.Date(Compile$start)
?as.Date
cimfert$start
source('~/.active-rstudio-document')
#now we need to create a nested loop to get the data into a new data frame
for (d in 1:30) {
for (i in 1:(length(cimfert$s1_p))){ #i for each insect
Compile$week[i+((d-1)*length(cimfert$ID))] <- d
Compile$id[i+((d-1)*length(cimfert$ID))] <- cimfert$ID[i]
Compile$parents[i+((d-1)*length(cimfert$ID))] <- cimfert$Nro_.pareja[i]
Compile$procedencia[i+((d-1)*length(cimfert$ID))] <- cimfert$Procedencia[i]
Compile$treatment[i+((d-1)*length(cimfert$ID))] <- cimfert$treatment[i]
Compile$start[i+((d-1)*length(cimfert$ID))] <- cimfert$Fecha_Inicio_.Pareja[i]
Compile$hatch[i+((d-1)*length(cimfert$ID))] <-cimfert[i,(2*d+3)]
Compile$eggs[i+((d-1)*length(cimfert$ID))]<-cimfert[i,(2*d+2)]
}
}
cimfert$start <- parse_date_time(cimfert$start, "dmy", tz="EST")
Compile$date <- (Compile$start+(Compile$week*7))
Compile$start
Compile$start <- parse_date_time(Compile$start, "dmy", tz="EST")
Compile$start
Compile$date <- (Compile$start+(Compile$week*7))
Compile$date
View(c(Compile$start, Compile$date))
View(Compile)
Compile$week
Compile$date <- (Compile$start+(Compile$week))
View(Compile)
?parse_date
Compile$start <- as.Date(Compiled$start)
Compile$start <- as.Date(Compile$start)
Compile$date <- (Compile$start+(Compile$week))
View(Compile)
Compile$date <- (Compile$start+(Compile$week*7))
View(Compile)
source('~/GitHub/Laboratory/chagasycimexhuevos/Cimex_Fertility_Analysis.R')
View(Compile)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(Compile)
View(TempRHP)
tempRHP <- read.csv("TEMP_Y_RH_PIL.csv")
View(tempRHP)
View(tempRH1)
View(tempRH2)
?substring
